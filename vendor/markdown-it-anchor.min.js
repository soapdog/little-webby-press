/**
 * Bundled by jsDelivr using Rollup v2.79.2 and Terser v5.39.0.
 * Original file: /npm/markdown-it-anchor@9.2.0/dist/markdownItAnchor.mjs
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var e="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function n(){throw new Error("setTimeout has not been defined")}function t(){throw new Error("clearTimeout has not been defined")}var r=n,a=t;function i(e){if(r===setTimeout)return setTimeout(e,0);if((r===n||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(n){try{return r.call(null,e,0)}catch(n){return r.call(this,e,0)}}}"function"==typeof e.setTimeout&&(r=setTimeout),"function"==typeof e.clearTimeout&&(a=clearTimeout);var s,l=[],o=!1,c=-1;function u(){o&&s&&(o=!1,s.length?l=s.concat(l):c=-1,l.length&&f())}function f(){if(!o){var e=i(u);o=!0;for(var n=l.length;n;){for(s=l,l=[];++c<n;)s&&s[c].run();c=-1,n=l.length}s=null,o=!1,function(e){if(a===clearTimeout)return clearTimeout(e);if((a===t||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(e);try{return a(e)}catch(n){try{return a.call(null,e)}catch(n){return a.call(this,e)}}}(e)}}function d(e,n){this.fun=e,this.array=n}d.prototype.run=function(){this.fun.apply(null,this.array)};function p(){}var k=p,m=p,h=p,b=p,w=p,y=p,g=p;var v=e.performance||{},T=v.now||v.mozNow||v.msNow||v.oNow||v.webkitNow||function(){return(new Date).getTime()};var j=new Date;var O={nextTick:function(e){var n=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)n[t-1]=arguments[t];l.push(new d(e,n)),1!==l.length||o||i(f)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:k,addListener:m,once:h,off:b,removeListener:w,removeAllListeners:y,emit:g,binding:function(e){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(e){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(e){var n=.001*T.call(v),t=Math.floor(n),r=Math.floor(n%1*1e9);return e&&(t-=e[0],(r-=e[1])<0&&(t--,r+=1e9)),[t,r]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-j)/1e3}},_=!1,x={false:"push",true:"unshift",after:"push",before:"unshift"},H={isPermalinkSymbol:!0};function A(e,n,t,r){var a;if(!_){var i="Using deprecated markdown-it-anchor permalink option, see https://github.com/valeriangalliat/markdown-it-anchor#permalinks";"object"==typeof O&&O&&O.emitWarning?O.emitWarning(i):console.warn(i),_=!0}var s=[Object.assign(new t.Token("link_open","a",1),{attrs:[].concat(n.permalinkClass?[["class",n.permalinkClass]]:[],[["href",n.permalinkHref(e,t)]],Object.entries(n.permalinkAttrs(e,t)))}),Object.assign(new t.Token("html_block","",0),{content:n.permalinkSymbol,meta:H}),new t.Token("link_close","a",-1)];n.permalinkSpace&&t.tokens[r+1].children[x[n.permalinkBefore]](Object.assign(new t.Token("text","",0),{content:" "})),(a=t.tokens[r+1].children)[x[n.permalinkBefore]].apply(a,s)}function S(e){return"#"+e}function P(e){return{}}var I={class:"header-anchor",symbol:"#",renderHref:S,renderAttrs:P};function C(e){function n(t){return t=Object.assign({},n.defaults,t),function(n,r,a,i){return e(n,t,r,a,i)}}return n.defaults=Object.assign({},I),n.renderPermalinkImpl=e,n}function E(e){var n=[],t=e.filter((function(e){if("class"!==e[0])return!0;n.push(e[1])}));return n.length>0&&t.unshift(["class",n.join(" ")]),t}var L=C((function(e,n,t,r,a){var i,s=[Object.assign(new r.Token("link_open","a",1),{attrs:E([].concat(n.class?[["class",n.class]]:[],[["href",n.renderHref(e,r)]],n.ariaHidden?[["aria-hidden","true"]]:[],Object.entries(n.renderAttrs(e,r))))}),Object.assign(new r.Token("html_inline","",0),{content:n.symbol,meta:H}),new r.Token("link_close","a",-1)];if(n.space){var l="string"==typeof n.space?n.space:" ";r.tokens[a+1].children[x[n.placement]](Object.assign(new r.Token("string"==typeof n.space?"html_inline":"text","",0),{content:l}))}(i=r.tokens[a+1].children)[x[n.placement]].apply(i,s)}));Object.assign(L.defaults,{space:!0,placement:"after",ariaHidden:!1});var N=C(L.renderPermalinkImpl);N.defaults=Object.assign({},L.defaults,{ariaHidden:!0});var q=C((function(e,n,t,r,a){var i=[Object.assign(new r.Token("link_open","a",1),{attrs:E([].concat(n.class?[["class",n.class]]:[],[["href",n.renderHref(e,r)]],Object.entries(n.renderAttrs(e,r))))})].concat(n.safariReaderFix?[new r.Token("span_open","span",1)]:[],r.tokens[a+1].children,n.safariReaderFix?[new r.Token("span_close","span",-1)]:[],[new r.Token("link_close","a",-1)]);r.tokens[a+1]=Object.assign(new r.Token("inline","",0),{children:i})}));Object.assign(q.defaults,{safariReaderFix:!1});var R=C((function(e,n,t,r,a){var i;if(!["visually-hidden","aria-label","aria-describedby","aria-labelledby"].includes(n.style))throw new Error("`permalink.linkAfterHeader` called with unknown style option `"+n.style+"`");if(!["aria-describedby","aria-labelledby"].includes(n.style)&&!n.assistiveText)throw new Error("`permalink.linkAfterHeader` called without the `assistiveText` option in `"+n.style+"` style");if("visually-hidden"===n.style&&!n.visuallyHiddenClass)throw new Error("`permalink.linkAfterHeader` called without the `visuallyHiddenClass` option in `visually-hidden` style");var s=r.tokens[a+1].children.filter((function(e){return"text"===e.type||"code_inline"===e.type})).reduce((function(e,n){return e+n.content}),""),l=[],o=[];if(n.class&&o.push(["class",n.class]),o.push(["href",n.renderHref(e,r)]),o.push.apply(o,Object.entries(n.renderAttrs(e,r))),"visually-hidden"===n.style){if(l.push(Object.assign(new r.Token("span_open","span",1),{attrs:[["class",n.visuallyHiddenClass]]}),Object.assign(new r.Token("text","",0),{content:n.assistiveText(s)}),new r.Token("span_close","span",-1)),n.space){var c="string"==typeof n.space?n.space:" ";l[x[n.placement]](Object.assign(new r.Token("string"==typeof n.space?"html_inline":"text","",0),{content:c}))}l[x[n.placement]](Object.assign(new r.Token("span_open","span",1),{attrs:[["aria-hidden","true"]]}),Object.assign(new r.Token("html_inline","",0),{content:n.symbol,meta:H}),new r.Token("span_close","span",-1))}else l.push(Object.assign(new r.Token("html_inline","",0),{content:n.symbol,meta:H}));"aria-label"===n.style?o.push(["aria-label",n.assistiveText(s)]):["aria-describedby","aria-labelledby"].includes(n.style)&&o.push([n.style,e]);var u=[Object.assign(new r.Token("link_open","a",1),{attrs:E(o)})].concat(l,[new r.Token("link_close","a",-1)]);(i=r.tokens).splice.apply(i,[a+3,0].concat(u)),n.wrapper&&(r.tokens.splice(a,0,Object.assign(new r.Token("html_block","",0),{content:n.wrapper[0]+"\n"})),r.tokens.splice(a+3+u.length+1,0,Object.assign(new r.Token("html_block","",0),{content:n.wrapper[1]+"\n"})))}));function W(e,n,t,r){var a=e,i=r;if(t&&Object.prototype.hasOwnProperty.call(n,a))throw new Error("User defined `id` attribute `"+e+"` is not unique. Please fix it in your Markdown to continue.");for(;Object.prototype.hasOwnProperty.call(n,a);)a=e+"-"+i,i+=1;return n[a]=!0,a}function B(e,n){n=Object.assign({},B.defaults,n),e.core.ruler.push("anchor",(function(e){for(var t,r={},a=e.tokens,i=Array.isArray(n.level)?(t=n.level,function(e){return t.includes(e)}):function(e){return function(n){return n>=e}}(n.level),s=0;s<a.length;s++){var l=a[s];if("heading_open"===l.type&&i(Number(l.tag.substr(1)))){var o=n.getTokensText(a[s+1].children),c=l.attrGet("id");c=null==c?W(c=n.slugifyWithState?n.slugifyWithState(o,e):n.slugify(o),r,!1,n.uniqueSlugStartIndex):W(c,r,!0,n.uniqueSlugStartIndex),l.attrSet("id",c),!1!==n.tabIndex&&l.attrSet("tabindex",""+n.tabIndex),"function"==typeof n.permalink?n.permalink(c,n,e,s):(n.permalink||n.renderPermalink&&n.renderPermalink!==A)&&n.renderPermalink(c,n,e,s),s=a.indexOf(l),n.callback&&n.callback(l,{slug:c,title:o})}}}))}Object.assign(R.defaults,{style:"visually-hidden",space:!0,placement:"after",wrapper:null}),B.permalink={__proto__:null,legacy:A,renderHref:S,renderAttrs:P,makePermalink:C,linkInsideHeader:L,ariaHidden:N,headerLink:q,linkAfterHeader:R},B.defaults={level:1,slugify:function(e){return encodeURIComponent(String(e).trim().toLowerCase().replace(/\s+/g,"-"))},uniqueSlugStartIndex:1,tabIndex:"-1",getTokensText:function(e){return e.filter((function(e){return["text","code_inline"].includes(e.type)})).map((function(e){return e.content})).join("")},permalink:!1,renderPermalink:A,permalinkClass:N.defaults.class,permalinkSpace:N.defaults.space,permalinkSymbol:"Â¶",permalinkBefore:"before"===N.defaults.placement,permalinkHref:N.defaults.renderHref,permalinkAttrs:N.defaults.renderAttrs},B.default=B;export{B as default};
//# sourceMappingURL=/sm/59414a75767843042677b8ac9638f1de909d32b118ab8c912f65c14a2d0ea7f0.map