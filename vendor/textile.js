/**
 * Bundled by jsDelivr using Rollup v2.79.2 and Terser v5.39.0.
 * Original file: /npm/textile@0.0.1/lib/textile.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var e,n={};!function(){var l,r,t,a,c,f,u,p,s,o,x,g,v,d,h,$,b,S,y;function O(e){for(i in c)e=e.replace(new RegExp(i,"g"),c[i]);for(i in S)e=w(e,RegExp("^"+S[i]+"(.+?)"+S[i]),i,""),e=w(e,RegExp(" "+S[i]+"(.+?)"+S[i]),i," ");return e=R(e=(e=(e=e.replace(/\[(\d+)\]/g,'<sup><a href="#fn$1">$1</a></sup>')).replace(/([A-Z]+)\((.*?)\)/g,'<acronym title="$2">$1</acronym>')).replace(/\"([^\"]+)\":((http|https|mailto):\S+)/g,'<a href="$2">$1</a>'),/!([^!\s]+)!:(\S+)/),e=(e=(e=R(e,/!([^!\s]+)!/)).replace(/"([^\"]+)":(\S+)/g,(function(e,n,l){return E("a",q("href",r[l]),n)}))).replace(/(=)?"([^\"]+)"/g,(function(e,n,l){return n?e:"&#8220;"+l+"&#8221;"}))}function w(e,n,l,r){for(;m=n.exec(e);){var t=_(m[1]);m[1]=m[1].replace(/^[\[\{\(]\S+[\]\}\)]/g,""),m[1]=m[1].replace(/^[<>=()]+/,""),e=e.replace(n,r+E(l,t,m[1]))}return e}function R(e,n){var l=n.exec(e);if(null!=l){var r="",t="",a=/\((.*)\)$/.exec(l[1]);null!=a&&(r=q("alt",a[1])+q("title",a[1]),l[1]=l[1].replace(/\((.*)\)$/,"")),l[1].match(/^[><]/)&&(t="float:"+(0==l[1].indexOf(">")?"right;":"left;"),l[1]=l[1].replace(/^[><]/,""));var i=/(\(+)/.exec(l[1]);i&&(t+="padding-left:"+i[1].length+"em;");var c=/(\)+)/.exec(l[1]);c&&(t+="padding-right:"+c[1].length+"em;"),t&&(r+=q("style",t));var f='<img src="'+l[1]+'"'+r+" />";l.length>2&&(f=E("a",q("href",l[2]),f)),e=e.replace(n,f)}return e}function _(e){var n="",r="";if(!e)return"";var t=/\[(\w\w)\]/.exec(e);null!=t&&(r+=q("lang",t[1]));var a=/\((\S+)\)/.exec(e);null!=a&&(e=e.replace(/\((\S+)\)/,""),r+=a[1].replace(/#(.*)$/,' id="$1"').replace(/^(\S+)/,' class="$1"'));var i=/(<>|=|<|>)/.exec(e);i&&(n+="text-align:"+l[i[1]]+";");var c=/\{(\S+)\}/.exec(e);c&&(n+=c[1],c[1].match(/;$/)||(n+=";"));var f=/(\(+)/.exec(e);f&&(n+="padding-left:"+f[1].length+"em;");var u=/(\)+)/.exec(e);return u&&(n+="padding-right:"+u[1].length+"em;"),n&&(r+=q("style",n)),r}function q(e,n){return" "+e+'="'+n+'"'}function E(e,n,l){return"<"+e+n+">"+l+"</"+e+">"}function k(e){e&&(p=0),s&&(f+="</p>\n\n",s=0),u&&!p&&(f+="</blockquote>\n\n",u=0)}s=null,u=null,p=null,f=null,r=[],l={">":"right","<":"left","=":"center","<>":"justify","~":"bottom","^":"top"},c={"'":"&#8217;"," - ":" &#8211; ","--":"&#8212;"," x ":" &#215; ","\\.\\.\\.":"&#8230;","\\(C\\)":"&#169;","\\(R\\)":"&#174;","\\(TM\\)":"&#8482;"},S={b:"\\*\\*",i:"__",em:"_",strong:"\\*",cite:"\\?\\?",sup:"\\^",sub:"~",span:"\\%",del:"-",code:"@",ins:"\\+",del:"-"},x="\n\n",v=0,g="",a="",o=0,d="",h=/^p(\S*)\.\s*(.*)/,$=/^fn(\d+)\.\s*(.*)/,t=/^bq\.(\.)?\s*/,b=/^table\s*{(.*)}\..*/,y=/^\{(\S+)\}\.\s*\|/,e=n.convert=function(e){var n=e.split(/\r?\n/);f="",s=u=p=0;for(var i=0;i<n.length;i++)if(0==n[i].indexOf("[")){var c=n[i].indexOf("]");r[n[i].substring(1,c)]=n[i].substring(c+1)}for(i=0;i<n.length;i++)if(0!=n[i].indexOf("["))if(d=h.exec(n[i]))k(1),s=1,f+=n[i].replace(h,"<p"+_(d[1])+">"+O(d[2]));else if(d=/^h(\d)(\S*)\.\s*(.*)/.exec(n[i]))k(1),f+=E("h"+d[1],_(d[2]),O(d[3]))+x;else if(d=$.exec(n[i]))k(1),s=1,f+=n[i].replace($,'<p id="fn'+d[1]+'"><sup>'+d[1]+"</sup>"+O(d[2]));else{if(0==n[i].indexOf("*"))g="<ul>",a="</ul>";else if(0==n[i].indexOf("#"))g="<ol>",a="</ol>";else{for(;v>0;)f+=a,f+=v>1?"</li>":"\n",f+="\n",v--;g=""}if(g){k(1);for(var m=(c=/^([*#]+)\s*(.*)/.exec(n[i]))[1].length;m<v;)f+=a+"</li>\n",v--;for(;v<m;)f=f.replace(/<\/li>\n$/,"\n"),f+=g,v++;f+=E("li","",O(c[2]))+"\n"}else if(n[i].match(b))k(1),o=1,f+=n[i].replace(b,'<table style="$1;">\n');else if(0==n[i].indexOf("|")||n[i].match(y)){k(1),o||(f+="<table>\n",o=1);var S="",w="",R=y.exec(n[i]);R&&(S=q("style",R[1]),n[i]=n[i].replace(y,"|"));var A=n[i].split("|");for(j=1;j<A.length-1;j++){var C="td";0==A[j].indexOf("_.")&&(C="th",A[j]=A[j].substring(2)),A[j]=O(A[j]);var M=/^([<>=^~\/\\\{]+.*?)\.(.*)/.exec(A[j]),T="",Z="";if(null!=M){A[j]=M[2];var z=/\\(\d+)/.exec(M[1]);null!=z&&(T+=q("colspan",z[1]));var B=/\/(\d+)/.exec(M[1]);null!=B&&(T+=q("rowspan",B[1]));var D=/([\^~])/.exec(M[1]);null!=D&&(Z+="vertical-align:"+l[D[1]]+";");var F=/(<>|=|<|>)/.exec(M[1]);null!=F&&(Z+="text-align:"+l[F[1]]+";");var G=/\{([^\}]+)\}/.exec(M[1]);null!=G&&(Z+=G[1]),""!=Z&&(T+=q("style",Z))}w+=E(C,T,A[j])}f+="\t"+E("tr",S,w)+"\n"}else o&&(f+="</table>\n\n",o=0),""==n[i]?k():s?f+=O(n[i]):((d=t.exec(n[i]))&&(n[i]=n[i].replace(t,""),f+="<blockquote>",u=1,d[1]&&(p=1)),f+="<p>"+O(n[i]),s=1)}return k(),f}}();export{e as convert,n as default};
//# sourceMappingURL=/sm/0547059fe6d70b1ed4dc0d9d564214870c0ab164b3207fba7c9537e7003ef937.map