{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "..\\..\\Editor.svelte",
    "..\\..\\Press.svelte"
  ],
  "sourcesContent": [
    "<script>\r\n  import TabFiles from \"./TabFiles.svelte\";\r\n  import TabOptions from \"./TabOptions.svelte\";\r\n  import TabMetadata from \"./TabMetadata.svelte\";\r\n  import EditorControls from \"./EditorControls.svelte\";\r\n\r\n  export let book;\r\n\r\n  let views = {\r\n    files: TabFiles,\r\n    options: TabOptions,\r\n    metadata: TabMetadata\r\n  };\r\n\r\n  let currentView = \"options\";\r\n</script>\r\n<style>\r\n.controls {\r\n  position: fixed;\r\n  bottom: 20px;\r\n  width: 910px;\r\n  margin: auto\r\n}\r\n</style>\r\n\r\n<div class=\"container\">\r\n  <ul class=\"tab tab-block\">\r\n    <li\r\n      class=\"tab-item\"\r\n      class:active={currentView == 'options'}\r\n      on:click|preventDefault={() => (currentView = 'options')}>\r\n      <a href=\"#\">Options</a>\r\n    </li>\r\n    <li\r\n      class=\"tab-item\"\r\n      class:active={currentView == 'metadata'}\r\n      on:click|preventDefault={() => (currentView = 'metadata')}>\r\n      <a href=\"#\">Metadata</a>\r\n    </li>\r\n    <li\r\n      class=\"tab-item\"\r\n      class:active={currentView == 'files'}\r\n      on:click|preventDefault={() => (currentView = 'files')}>\r\n      <a href=\"#\">Files</a>\r\n    </li>\r\n  </ul>\r\n  <div class=\"columns tab\">\r\n    <svelte:component this={views[currentView]} {book} />\r\n  </div>\r\n  <div class=\"controls\">\r\n    <EditorControls {book} />\r\n  </div>\r\n</div>\r\n",
    "<script>\n  import Nav from \"./Nav.svelte\";\n  import Editor from \"./Editor.svelte\";\n  import { getFilesFromDataTransferItems } from \"datatransfer-files-promise\";\n  import { onMount } from \"svelte\";\n  import { processDroppedFiles } from \"./utils.js\";\n\n  let stage = \"waiting\"; // loading, loaded, over\n  let msg, files, book;\n  let error = false;\n\n  function readFile(file) {\n    return new Promise((resolve, reject) => {\n      var fr = new FileReader();\n      fr.onload = () => {\n        resolve(fr.result);\n      };\n      fr.readAsText(file.blob);\n    });\n  }\n\n  onMount(() => {\n    const dropzone = document.querySelector(\".drop-area\");\n    dropzone.addEventListener(\"dragover\", evt => {\n      evt.preventDefault();\n      stage = \"over\";\n    });\n    dropzone.addEventListener(\"dragleave\", evt => {\n      evt.preventDefault();\n      stage = \"waiting\";\n    });\n    dropzone.addEventListener(\"drop\", async evt => {\n      evt.preventDefault();\n\n      msg = \"Getting file list...\";\n      stage = \"loading\";\n      files = await window.getFilesFromDataTransferItems(\n        evt.dataTransfer.items\n      );\n\n      msg = \"Loading configuration...\";\n      book = await processDroppedFiles(files);\n      if (book instanceof Error) {\n        stage = \"error\";\n        msg = book.message;\n      } else {\n        stage = \"loaded\";\n      }\n    });\n  });\n</script>\n\n<style>\n  .over {\n    border: solid 4px #4240d4;\n  }\n\n  .action-items {\n    position: fixed;\n    bottom: 0px;\n  }\n\n  .full-height {\n    height: calc(100vh - 0.8rem);\n  }\n</style>\n\n<div class=\"container grid-lg\">\n  <div class=\"columns m-2 full-height\">\n    <div class=\"column bg-secondary\">\n      <Nav />\n      {#if error}\n        <toast class=\"toast toast-error m-2\">\n          Error initializing filesystem: {error}\n        </toast>\n      {/if}\n      {#if stage !== 'loaded'}\n        <div class=\"empty drop-area\" class:over={stage == 'over'}>\n          {#if stage == 'over'}\n            <div class=\"empty-icon\">\n              <i class=\"fas fa-smile-wink fa-3x\" />\n            </div>\n            <p class=\"empty-title h5\">Drop a book folder here!</p>\n          {:else if stage == 'waiting'}\n            <div class=\"empty-icon\">\n              <i class=\"fas fa-book fa-3x\" />\n            </div>\n            <p class=\"empty-title h5\">The book is empty.</p>\n            <p class=\"empty-subtitle\">\n              Drag &amp; Drop a folder with book data here to start.\n            </p>\n            <div class=\"empty-action\">\n              <button class=\"btn btn-primary\">\n                Learn more about how to build books using\n                <em>little.webby.press</em>\n              </button>\n            </div>\n          {:else if stage == 'loading'}\n            <div class=\"empty-icon\">\n              <i class=\"fas fa-spinner fa-3x fa-spin\" />\n            </div>\n            <p class=\"empty-title h5\">Loading...</p>\n            <p class=\"empty-subtitle\">{msg}</p>\n          {/if}\n        </div>\n      {:else}\n        <Editor {book} />\n      {/if}\n    </div>\n  </div>\n</div>\n"
  ],
  "names": [],
  "mappings": "AAiBA,SAAS,cAAC,CAAC,AACT,QAAQ,CAAE,KAAK,CACf,MAAM,CAAE,IAAI,CACZ,KAAK,CAAE,KAAK,CACZ,MAAM,CAAE,IAAI;AACd,CAAC;AC+BC,KAAK,cAAC,CAAC,AACL,MAAM,CAAE,KAAK,CAAC,GAAG,CAAC,OAAO,AAC3B,CAAC,AAOD,YAAY,cAAC,CAAC,AACZ,MAAM,CAAE,KAAK,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,AAC9B,CAAC"
}